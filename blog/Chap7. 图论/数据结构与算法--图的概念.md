# 数据结构与算法--图的概念

经过之前的学习，我们知道了线性表是一对一的关系，树是一对多的关系，而且树具有层次结构。图是一种更为复杂的数据结构，就好像人与人之间的关系网一样复杂。**图是由若干顶点和边（两个顶点间的连线）组成的一种结构。**图的顶点没有层次，可以分散分布。某个顶点与其他顶点都有可能构成边，边表示了顶点之间的逻辑关系。若两个顶点通过一条边相连时，我们说这两个顶点是相邻的，并称这条边依附于这两个顶点。

有些特殊的图：

- 平行边，如下左图，表示两个顶点之间有重复的边。


- 自环，如下右图，表示顶点到其自身的边；

![](http://obvjfxxhr.bkt.clouddn.com/graph_1.PNG)

以上两种特殊图暂时不讨论。如果一幅图不是上述情况，那么这幅图就是一幅**简单图**。我们的实现基于简单图，以后就用“图”来代表这里说的简单图。

## 路径与环

在图中，路径是由边顺序连接的一系列顶点，比如A -> B -> C -> D就是一条A到D的路径，它从A开始，先是经过顶点B然后是C，最后达到终点D。两个顶点的路径可能有多条，一条路径如果没有重复顶点，就称为**简单路径**，如果允许出现重复顶点，我们指的都是一般的路径和环。路径中如果第一个顶点和最后一个顶点相同，说明绕了一圈又回到了起点，这被称为**环**。如果除了第一个和最后一个顶点重复出现之外，其他顶点都没有重复出现，这样的环称为**简单环**。左图B -> C -> D -> A ->B，只有B顶点重复出现所以是简单环。右图B -> C -> D -> A -> C -> B，除了B，C也重复出现了，所以不是简单环。

![](http://obvjfxxhr.bkt.clouddn.com/graph_5.PNG)



## 无向图和有向图

边分两种，无向边和有向边。全部由无向边（以及它们依附的顶点）组成的图称为**无向图**。它表明两个顶点之间路径没有先后顺序。比如快递小哥发短信让你领快递了，你可以先去打一个小时篮球，也可以先学习两个小时再去领；也可以先把快递领回来再做那些事。也就是说存在A到B的路径，必然也存在B到A的路径。另外一种是**有向图**，有向图是全部由有向边（通常是一条由起点指向终点的箭头）组成的图。它表明了两个顶点的路径之间存在先后关系，比如你等快递等了好几天，迫不及待想看看里面的东西。你不能说我要拆快递了，然后东西就飞到你手里了，看里面的东西之前你必须先去领快递啊！这个顺序不能反（笨蛋都知道）。

不管是有向图还是无向图，一般认为：如果其边的总条数在其顶点数的一个小的常数倍内，就认为这幅图是**稀疏图**，否则是**稠密图**。

对于无向图，如果任意两个顶点之间都有边依附，则称这样的图为**无向完全图**，如下。

![](http://obvjfxxhr.bkt.clouddn.com/graph_2.PNG)

对于有向图，如果任意两个顶点之间有两条指向相反的边，则称这样的图为**有向完全图**，如下

![](http://obvjfxxhr.bkt.clouddn.com/graph_3.PNG)

无向完全图边的条数为`n * (n - 1) / 2`，n是图顶点的个数。因为每个顶点都有一条指向其余n - 1条边的边，但是其间有一半是重读计算的，所以可以得到以上公式。所以一幅无向图的边的条数`0 <= n <= n * (n - 1) / 2`。

有向完全图自然可得边的条数为`n * (n - 1)`，一幅有向图边的条数范围在`0 <= n <= n * (n - 1)`之间。

## 顶点的度及子图

某个顶点的度定义为依附于该顶点的边的数目。对于有向图还要细分为**入度**和**出度**，所谓出度就是，以某顶点为起点，引出去的边的条数；入度就是以某顶点为终点，指向该顶点的边的条数。

子图是一幅图的所有边的一个子集（以及它们依附的顶点）组成的图。如下，阴影部分的四个图就是其左侧图的子图。

![](http://obvjfxxhr.bkt.clouddn.com/graph_4.PNG)

## 连通图

如果一幅无向图，任意两个顶点之间都**存在路径**，那么这幅图称为**连通图**。一幅非连通的图是由若干连通的部分组成，他们都是**极大连通子图**。直观来说，如果将图比喻成一串绳结或者念珠，将任意一个顶点提起来，连通图是一个整体，而非连通图会散架成若干部分。如下左图，随便举个例子，A到E就没有路径，所以不是连通图。右图任意顶点到其余顶点都存在路径，本身是连通图，同时也是左图的极大连通子图。

![](http://obvjfxxhr.bkt.clouddn.com/graph_6.PNG)

如果一幅有向图，对于任意两个顶点A、B，如果存在A到B的路径，同时也存在B到A的路径，就称这幅图为**强连通图**（比无向图的要求更严格）。

## 连通分量与树

定义**树**是一幅无环的连通图，互不相连的树组成的集合称为森林。**连通图的生成树**是该连通图的一幅子图，含有该图所有n个顶点，但只拥有n - 1条边。

一幅拥有n个顶点的图G满足以下5个条件之一时，他就是一棵树：

- G有n - 1条边且不含环
- G有n - 1条边且是连通的
- G是连通的，但删除任意一条边都会使它不再连通
- G是无环图，但添加任意一条边都会产生一个环
- G中的任意两个顶点之间仅存在一条简单路径（没有重复顶点）。

---

by @sunhaiyu

2017.9.16
